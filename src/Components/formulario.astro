---
import BgContenedor from "./Utilidades/BgContenedor.astro";

const municipioLocalidades = {
  otro: [""],
  ajacuba: ["Centro", "Santiago Tezontlale"],
  santiago: ["Centro", "Cerritos", "El jaguey"],
  actopan: ["La Estancia", "El Daxtha", "El Cerrito"],
  tepa: ["La Estancia", "El Daxtha", "El Cerrito"],
  progreso: ["La Estancia", "El Daxtha", "El Cerrito"],
  atita: ["La Estancia", "El Daxtha", "El Cerrito"],
  huichapan: ["La Estancia", "El Daxtha", "El Cerrito"],
  arenal: ["La Estancia", "El Daxtha", "El Cerrito"],
  salvador: ["La Estancia", "El Daxtha", "El Cerrito"],
  tetepango: ["La Estancia", "El Daxtha", "El Cerrito"],
  mixquiahuala: ["La Estancia", "El Daxtha", "El Cerrito"]
} as Record<'otro' | 'actopan' | 'santiago' | 'ajacuba' | 'tepa' | 'progreso' | 
'atita' | 'huichapan' | 'arenal' | 'salvador' | 'tetepango' | 'mixquiahuala', string[]>;
---

<BgContenedor>
  <div class="min-h-screen flex items-center justify-center">
    <div class="bg-[#11293e] text-[#f0f0f0] w-full p-4 max-w-4xl p-8 shadow-xl rounded-2xl">
      <h2 class="text-4xl text-[#ff6600] font-bold text-center mb-2">Información</h2>
      <p class="text-2xl text-center mb-6">Déjanos tus datos y nuestro equipo se pondrá en contacto contigo.</p>

      <form id="formulario" class="flex flex-col gap-6" action="https://formsubmit.co/jesusarrazola99@gmail.com" method="POST">
        <input type="hidden" name="_template" value="box">
        <div class="flex flex-wrap gap-4">
          <input type="text" name="nombre" placeholder="Nombre*" required class="bg-white flex-1 p-3 rounded-lg text-black text-base" />
          <input type="text" name="apellidos" placeholder="Apellidos*" required class="bg-white flex-1 p-3 rounded-lg text-black text-base" />
        </div>

        <div class="flex flex-wrap gap-4">
          <input type="tel" name="telefono" placeholder="Teléfono*" required class="bg-white flex-1 p-3 rounded-lg text-black text-base" />
          <input type="tel" placeholder="Teléfono adicional" class="bg-white flex-1 p-3 rounded-lg text-black text-base" />
        </div>

        <div class="flex flex-wrap gap-4">
          <select id="estado" name="Estado" required class="bg-white flex-1 p-3 rounded-lg text-black text-base">
            <option value="">Estado*</option>
            <option value="Hidalgo">Hidalgo</option>
          </select>

          <select id="municipio" required name="Municipio" class="bg-white flex-1 p-3 rounded-lg text-black text-base">
            <option value="">Seleccionar municipio*</option>
            <option value="otro">Otro</option>
            <option value="ajacuba">Ajacuba</option>
            <option value="santiago">Santiago de Anaya</option>
            <option value="tetepango">Tetepango</option>
            <option value="salvador">San Salvador</option>
            <option value="progreso">Progreso de Obregón</option>
            <option value="mixquiahuala">Mixquiahuala</option>
            <option value="tepa">Francisco I. Madero</option>
            <option value="atita">Atitalaquia</option>
            <option value="arenal">El arenal</option>
            <option value="actopan">Actopan</option>
            <option value="huichapan">Huichapan</option>
          </select>
        </div>

        <div class="flex flex-wrap gap-4">
          <select id="localidad" name="Localidad" required class="bg-white flex-1 p-3 rounded-lg text-black text-base">
            <option value="">Seleccionar localidad*</option>
            <option value="Actopan">Actopan, centro</option>
          </select>

          <input type="text" placeholder="Dirección" name="direccion" class="bg-white flex-1 p-3 rounded-lg text-black text-base" />
        </div>

        <div class="flex flex-wrap gap-4">
          <select class="bg-white flex-1 p-3 rounded-lg text-black text-base" name="motivo">
            <option value="">Motivo de consulta*</option>
            <option value="servicio">Contratar servicio</option>
            <option value="soporte">Soporte técnico</option>
          </select>

          <select class="bg-white flex-1 p-3 rounded-lg text-black text-base" name="metodoContacto">
            <option value="">¿Cómo prefiere ser contactado?</option>
            <option value="telefono">Teléfono</option>
            <option value="correo">Correo electrónico</option>
          </select>
        </div>

        <button type="submit" class="bg-[#ff6600] hover:bg-[#cddb00] text-white font-semibold text-lg py-3 rounded-xl transition-colors duration-300 mt-2">
          Enviar
        </button>
      </form>
    </div>
  </div>
</BgContenedor>

<script type="module">
  document.addEventListener("DOMContentLoaded", () => {
    const municipioLocalidades = {
      otro: [""],
      ajacuba: ["Centro", "Santiago Tezontlale"],
      santiago: ["Centro", "Cerritos", "El jaguey"],
      actopan: ["La Estancia", "El Daxtha", "El Cerrito"],
      tepa: ["La Estancia", "El Daxtha", "El Cerrito"],
      progreso: ["La Estancia", "El Daxtha", "El Cerrito"],
      atita: ["La Estancia", "El Daxtha", "El Cerrito"],
      huichapan: ["La Estancia", "El Daxtha", "El Cerrito"],
      arenal: ["La Estancia", "El Daxtha", "El Cerrito"],
      salvador: ["La Estancia", "El Daxtha", "El Cerrito"],
      tetepango: ["La Estancia", "El Daxtha", "El Cerrito"],
      mixquiahuala: ["La Estancia", "El Daxtha", "El Cerrito"]
    };

    const municipioSelect = document.getElementById("municipio");
    const localidadSelect = document.getElementById("localidad");

    if (municipioSelect && localidadSelect) {
      municipioSelect.addEventListener("change", () => {
        const selected = municipioSelect.value;
        const localidades = municipioLocalidades[selected] || [];

        localidadSelect.innerHTML = '<option value="">Seleccionar localidad*</option>';
        localidades.forEach(loc => {
          const option = document.createElement("option");
          option.value = loc;
          option.textContent = loc;
          localidadSelect.appendChild(option);
        });
      });
    }
  });
</script>
